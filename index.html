<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel da Roxy – Segunda Tela</title>

    <!-- Arquivo de estilos -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="dashboard">
        <header class="dashboard-header">
            <h1>Painel da Roxy</h1>
            <p class="subtitle">Fogo que cria, vento que guia</p>
        </header>

        <main class="dashboard-grid">
            <!-- Relógio -->
            <section class="card" id="clock-card">
                <h2>Relógio</h2>
                <div class="clock-time" id="clock-time">--:--:--</div>
                <div class="clock-date" id="clock-date">--/--/----</div>
            </section>

            <!-- Calendário -->
            <section class="card" id="calendar-card">
                <h2>Calendário</h2>
                <div class="calendar-header">
                    <span id="calendar-month">Mês</span>
                    <span id="calendar-year">Ano</span>
                </div>
                <div class="calendar-grid" id="calendar-grid">
                    <!-- Dias do calendário serão gerados via JavaScript -->
                </div>
            </section>

            <!-- Bloco de notas -->
            <section class="card" id="notes-card">
                <h2>Bloco de Notas</h2>
                <textarea id="notes-area" placeholder="Escreva aqui suas anotações rápidas, lembretes, mantras do dia, etc."></textarea>
                <p class="notes-hint">As anotações são salvas automaticamente neste computador.</p>
            </section>

            <!-- Fase da Lua -->
            <section class="card" id="moon-card">
                <h2>Fase da Lua</h2>
                <div class="moon-content" id="moon-content">
                    <!-- 
                        Aqui você pode colar o código de embed/iframe 
                        de um widget de fase lunar do site que você escolher.

                        Exemplo genérico (depois você substitui a URL):

                        <iframe 
                            src="URL_DO_WIDGET_DE_FASE_LUNAR"
                            frameborder="0"
                            class="moon-iframe">
                        </iframe>
                    -->
                    <p>Espaço reservado para o widget de fase lunar.</p>
                    <p class="notes-hint">Cole aqui o código do widget do site que você preferir.</p>
                </div>
            </section>
        </main>
    </div>

    <!-- JavaScript embutido -->
    <script>
    // Função para adicionar zero à esquerda quando necessário
    function pad(num) {
        return num.toString().padStart(2, "0");
    }

    // Atualizar relógio em tempo real
    function updateClock() {
        const now = new Date();

        const hours = pad(now.getHours());
        const minutes = pad(now.getMinutes());
        const seconds = pad(now.getSeconds());

        const day = pad(now.getDate());
        const month = pad(now.getMonth() + 1);
        const year = now.getFullYear();

        const clockTime = document.getElementById("clock-time");
        const clockDate = document.getElementById("clock-date");

        if (clockTime && clockDate) {
            clockTime.textContent = \`\${hours}:\${minutes}:\${seconds}\`;
            clockDate.textContent = \`\${day}/\${month}/\${year}\`;
        }
    }

    // Gerar calendário do mês atual
    function generateCalendar() {
        const now = new Date();
        const year = now.getFullYear();
        const monthIndex = now.getMonth(); // 0–11

        const calendarMonth = document.getElementById("calendar-month");
        const calendarYear = document.getElementById("calendar-year");
        const calendarGrid = document.getElementById("calendar-grid");

        if (!calendarGrid || !calendarMonth || !calendarYear) return;

        const monthNames = [
            "Janeiro", "Fevereiro", "Março", "Abril", "Maio", "Junho",
            "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"
        ];

        const weekDayNames = ["D", "S", "T", "Q", "Q", "S", "S"]; // Domingo a Sábado

        calendarMonth.textContent = monthNames[monthIndex];
        calendarYear.textContent = year;

        // Limpar grid
        calendarGrid.innerHTML = "";

        // Cabeçalho: nomes dos dias da semana
        weekDayNames.forEach(dayName => {
            const el = document.createElement("div");
            el.classList.add("calendar-day-name");
            el.textContent = dayName;
            calendarGrid.appendChild(el);
        });

        // Primeiro dia do mês
        const firstDay = new Date(year, monthIndex, 1);
        const startingWeekDay = firstDay.getDay(); // 0 (domingo) - 6 (sábado)

        // Quantos dias tem o mês
        const daysInMonth = new Date(year, monthIndex + 1, 0).getDate();

        // Dias vazios antes do primeiro dia do mês
        for (let i = 0; i < startingWeekDay; i++) {
            const emptyCell = document.createElement("div");
            emptyCell.classList.add("calendar-day", "empty");
            emptyCell.textContent = "";
            calendarGrid.appendChild(emptyCell);
        }

        // Dias do mês
        const today = now.getDate();

        for (let day = 1; day <= daysInMonth; day++) {
            const dayCell = document.createElement("div");
            dayCell.classList.add("calendar-day");
            dayCell.textContent = day;

            if (day === today) {
                dayCell.classList.add("today");
            }

            calendarGrid.appendChild(dayCell);
        }
    }

    // Bloco de notas com localStorage
    function initNotes() {
        const notesArea = document.getElementById("notes-area");
        if (!notesArea) return;

        const STORAGE_KEY = "roxy_dashboard_notes";

        // Carregar notas salvas
        const savedNotes = localStorage.getItem(STORAGE_KEY);
        if (savedNotes !== null) {
            notesArea.value = savedNotes;
        }

        // Salvar sempre que digitar
        notesArea.addEventListener("input", () => {
            localStorage.setItem(STORAGE_KEY, notesArea.value);
        });
    }

    // Inicialização geral
    document.addEventListener("DOMContentLoaded", () => {
        // Relógio
        updateClock();
        setInterval(updateClock, 1000);

        // Calendário
        generateCalendar();

        // Notas
        initNotes();
    });
    </script>
</body>
</html>
